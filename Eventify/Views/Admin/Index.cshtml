@{
    ViewBag.Title = "Admin Dashboard";
}
@model AdminDashboardVM


<div class="container-lg py-5">
    <!-- Page Header -->
    <div class="mb-4">
        <h1 class="display-5 fw-bold mb-2">Admin Dashboard</h1>
        <p class="lead text-muted">Manage users, venues, events, and payments</p>
    </div>

    <!-- Section Radio Button Bar -->
    <div class="section-radio-bar">
        <div class="d-flex flex-wrap gap-3">
            <div class="section-radio-item">
                <input style="display: none;" type="radio" id="section-admins" name="adminSection" value="admins" checked>
                <label for="section-admins"><i class="fas fa-user-shield me-2"></i>Admins</label>
            </div>
            <div class="section-radio-item">
                <input style="display: none;" type="radio" id="section-users" name="adminSection" value="users">
                <label for="section-users"><i class="fas fa-users me-2"></i>Users</label>
            </div>
            <div class="section-radio-item">
                <input style="display: none;" type="radio" id="section-venues" name="adminSection" value="venues">
                <label for="section-venues"><i class="fas fa-building me-2"></i>Venues</label>
            </div>
            <div class="section-radio-item">
                <input style="display: none;" type="radio" id="section-events" name="adminSection" value="events">
                <label for="section-events"><i class="fas fa-calendar-alt me-2"></i>Events</label>
            </div>
            <div class="section-radio-item">
                <input style="display: none;" type="radio" id="section-payments" name="adminSection" value="payments">
                <label for="section-payments"><i class="fas fa-credit-card me-2"></i>Payments</label>
            </div>
        </div>
    </div>

    <!-- Section 1: Admins Management -->
    <div id="section-admins-content" class="admin-section active">
        <div class="admin-form-card">
            <h3 class="fw-bold mb-3"><i class="fas fa-user-shield me-2"></i>Convert User to Admin</h3>
            <form id="convertToAdminForm">
                <div class="row g-3">
                    <div class="col-md-8">
                        <label for="adminEmail" class="form-label">User Email</label>
                        <input type="email" class="form-control" id="adminEmail" placeholder="Enter user email to convert to admin" required>
                    </div>
                    <div class="col-md-4 d-flex align-items-end">
                        <button type="submit" class="btn btn-primary w-100">
                            <i class="fas fa-user-plus me-2"></i>Convert to Admin
                        </button>
                    </div>
                </div>
            </form>
        </div>

        <div class="admin-table card border-0 shadow-sm">
            <div class="card-header bg-light border-0">
                <h5 class="fw-bold mb-0"><i class="fas fa-list me-2"></i>All Admins</h5>
            </div>
            <div class="card-body p-0">
                <div class="table-responsive" style="max-height: 400px;">
                    <table class="table table-hover mb-0">
                        <thead>
                            <tr>
                                <th>Name</th>
                                <th>Email</th>
                            </tr>
                        </thead>
                        <tbody id="adminsTableBody">
                            <tr>
                                <th>Fares</th>
                                <th>fares@gmail.com</th>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>
        </div>
    </div>

    <!-- Section 2: Users Management -->
    <div id="section-users-content" class="admin-section">
        <div class="admin-table card border-0 shadow-sm">
            <div class="card-header bg-light border-0">
                <h5 class="fw-bold mb-0"><i class="fas fa-users me-2"></i>Unverified Users</h5>
            </div>
            <div class="card-body p-0">
                <div class="table-responsive" style="max-height: 400px;">
                    <table class="table table-hover mb-0">
                        <thead>
                            <tr>
                                <th>Username</th>
                                <th>Email</th>
                                <th>Role</th>
                                <th>Actions</th>
                            </tr>
                        </thead>
                        <tbody id="usersTableBody">
                            <!-- Users will be loaded here -->
                            <tr>
                                <th>fares</th>
                                <th>fares@gmail.com</th>
                                <th>Owner</th>
                                <th>
                                    <button class="btn btn-sm btn-primary">
                                        <i class="fas fa-eye me-1"></i>Review
                                    </button>
                                </th>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>
        </div>
    </div>

    <!-- Section 3: Venues Management -->
    <div id="section-venues-content" class="admin-section">
        <div class="admin-table card border-0 shadow-sm">
            <div class="card-header bg-light border-0">
                <h5 class="fw-bold mb-0"><i class="fas fa-building me-2"></i>Unverified Venues</h5>
            </div>
            <div class="card-body p-0">
                <div class="table-responsive" style="max-height: 400px;">
                    <table class="table table-hover mb-0">
                        <thead>
                            <tr>
                                <th>Venue Name</th>
                                <th>Actions</th>
                            </tr>
                        </thead>
                        <tbody id="venuesTableBody">
                            <!-- Venues will be loaded here -->
                            <tr>
                                <th>fares</th>
                                <th>
                                    <button class="btn btn-sm btn-primary">
                                        <i class="fas fa-eye me-1"></i>Review
                                    </button>
                                </th>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>
        </div>
    </div>

    <!-- Section 4: Events Management -->
    <div id="section-events-content" class="admin-section">
        <div class="admin-table card border-0 shadow-sm">
            <div class="card-header bg-light border-0">
                <h5 class="fw-bold mb-0"><i class="fas fa-calendar-alt me-2"></i>All Events</h5>
            </div>
            <div class="card-body p-0">
                <div class="table-responsive" style="max-height: 400px;">
                    <table class="table table-hover mb-0">
                        <thead>
                            <tr>
                                <th>Event Name</th>
                                <th>Start Date & Time</th>
                                <th>Actions</th>
                            </tr>
                        </thead>
                        <tbody id="eventsTableBody">
                            <!-- Events will be loaded here -->
                        <th>fares</th>
                        <th>2025-01-01 10:00</th>
                        <th>
                            <button class="btn btn-sm btn-primary">
                                <i class="fas fa-eye me-1"></i>Review
                            </button>
                        </th>
                        </tbody>
                    </table>
                </div>
            </div>
        </div>
    </div>

    <!-- Section 5: Payments Management -->
    <div id="section-payments-content" class="admin-section">
        <div class="admin-table card border-0 shadow-sm">
            <div class="card-header bg-light border-0">
                <h5 class="fw-bold mb-0"><i class="fas fa-credit-card me-2"></i>All Payments</h5>
            </div>
            <div class="card-body p-0">
                <div class="table-responsive" style="max-height: 400px;">
                    <table class="table table-hover mb-0">
                        <thead>
                            <tr>
                                <th>Event Name</th>
                                <th>Amount</th>
                                <th>Date</th>
                                <th>Actions</th>
                            </tr>
                        </thead>
                        <tbody id="paymentsTableBody">
                            <!-- Payments will be loaded here -->
                        <th>fares</th>
                        <th>100$</th>
                        <th>2025-01-01 10:00</th>
                        <th>
                            <button class="btn btn-sm btn-primary">
                                <i class="fas fa-eye me-1"></i>View Event
                            </button>
                        </th>
                        </tbody>
                    </table>
                </div>
            </div>
        </div>
    </div>
    <!-- Danger Zone -->
    <div class="card border-0 shadow-sm">
        <div class="card-body p-4 bg-light">
            <div class="d-flex flex-column flex-md-row justify-content-between align-items-start align-items-md-center">
                <div>
                    <h5 class="fw-bold mb-1 text-danger">Danger Zone</h5>
                    <p class="text-muted mb-0 small">Delete your account and all related data. This process cannot be undone.</p>
                </div>
                <button type="button" class="btn btn-outline-danger mt-3 mt-md-0">Delete Account</button>
            </div>
        </div>
    </div>
</div>


<script>
    const sectionRadios = document.querySelectorAll('input[name="adminSection"]');
    const sections = document.querySelectorAll('.admin-section');

    sectionRadios.forEach(radio => {
        radio.addEventListener('change', function() {
            const selectedSection = this.value;

            // Hide all sections
            sections.forEach(section => {
                section.classList.remove('active');
            });

            // Show selected section
            const targetSection = document.getElementById(`section-${selectedSection}-content`);
            if (targetSection) {
                targetSection.classList.add('active');
                // Load data for the selected section
                loadSectionData(selectedSection);
            }
        });
    });
</script>